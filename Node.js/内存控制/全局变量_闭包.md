##### 作用域与内存（变量的主动释放）

函数被调用时会创建对应的作用域，函数执行完成后，作用域将被销毁。

同时作用域中声明的局部变量分配在该作用域上，随作用域的销毁而销毁。只被局部变量饮用的对象存活周期较短。在作用域释放后，局部变量失效，其引用的对象将会在下次垃圾回收时被释放。

⚠️v8中通过delete删除对象的属性有可能干扰v8的优化，所以通过赋值给undefined/null解除引用更好

##### 作用域链 与 闭包

作用域链上的对象访问只能向上，外部无法向内部访问。

闭包可以。

---

实现外部作用域链访问内部作用域中变量的方法叫做**闭包(closure)**。这得益于高阶函数的特性：函数可以作为参数或者返回值。



返回的匿名函数具有访问local变量的条件，一旦有**变量引用**这个匿名中间函数，原始的作用域不会得到释放，作用域产生的内存也不会得到释放，除非不再有引用才会逐步释放。



无法立即回收的内存包括全局变量引用和闭包，要小心此类变量无限制增加，原因是会使老生代中的对象增多。